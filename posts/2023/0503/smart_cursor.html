<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, viewport-fit=cover">
	<meta name="format-detection" content="telephone=no">
	<title>Mouse Cursor Custom</title>
	<style>
		*	{margin:0;padding:0;}
		body	{line-height:1.2;font-family:Arial, Helvetica, sans-serif;font-size:14px;color:#000;}
		button	{border:none;background:none;font:inherit;}
		li	{list-style:none;}
		.flex_item	{display:block;width:100%;}

		body, input, label, a, button	{cursor:none;}	/* 마우스 커서 제거할 요소들 */

		.section	{display:flex;justify-content:center;align-items:center;height:90vh;text-align:center;}
		.section:nth-child(odd)	{background-color:lightyellow;}
		.section:nth-child(even)	{background-color:lightgreen;}
		.section .tit	{font-size:20px;}
		.section nav	{margin:20px;}
		.section a	{font-size:16px;}
		.section button	{padding:10px 20px;font-size:16px;color:#fff;background-color:#333;}
		
		/* Smart Cursor Style */
		.smart_cursor	{display:none;position:fixed;left:0;top:0;z-index:10000;pointer-events:none;}
		.smart_cursor.enter	{display:block;}
		.smart_cursor:before	{content:'';display:block;width:20px;height:20px;border-radius:50%;background-color:#d33;transform:translate(-50%, -50%);}	/* 디폴트 커서 */
		.smart_cursor [data-smart-cursor]	{opacity:0;visibility:hidden;width:100px;height:100px;position:absolute;left:-50px;top:-50px;background-repeat:no-repeat;background-size:100% 100%;transform:scale(0.2);transition:all 0.2s;}
		.smart_cursor [data-smart-cursor].on	{opacity:1;visibility:visible;transform:scale(1);}
		.smart_cursor [data-smart-cursor='clickable']	{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' version='1.2'%3E%3Cdefs%3E%3Cimage id='img1' width='100' height='100' href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkAQMAAABKLAcXAAAAAXNSR0IB2cksfwAAAANQTFRFAAAAp3o92gAAAAF0Uk5TAEDm2GYAAAAUSURBVHicY2AYBaNgFIyCUUBPAAAFeAABCP1FgwAAAABJRU5ErkJggg=='/%3E%3C/defs%3E%3Cstyle%3Etspan%7Bwhite-space:pre%7D.t1%7Bfont-size:20px;fill:%23fff;font-weight:400;font-family:&quot;DejaVuSans&quot;,&quot;DejaVu Sans&quot;%7D%3C/style%3E%3Cuse id='Background' x='0' y='0' href='%23img1' style='opacity:.3'/%3E%3Cpath id='모양 1' d='M50 100C22.3 100 0 77.7 0 50S22.3 0 50 0s50 22.3 50 50-22.3 50-50 50z' style='fill:%23d33'/%3E%3Ctext id='clickable' style='transform:matrix(1,0,0,1,9,56)'%3E%3Ctspan x='0' y='0' class='t1'%3Ec%3C/tspan%3E%3Ctspan y='0' class='t1'%3El%3C/tspan%3E%3Ctspan y='0' class='t1'%3Ei%3C/tspan%3E%3Ctspan y='0' class='t1'%3Ec%3C/tspan%3E%3Ctspan y='0' class='t1'%3Ek%3C/tspan%3E%3Ctspan y='0' class='t1'%3Ea%3C/tspan%3E%3Ctspan y='0' class='t1'%3Eb%3C/tspan%3E%3Ctspan y='0' class='t1'%3El%3C/tspan%3E%3Ctspan y='0' class='t1'%3Ee%0A%3C/tspan%3E%3C/text%3E%3C/svg%3E");}
		.smart_cursor [data-smart-cursor='anchor']	{background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' version='1.2'%3E%3Cdefs%3E%3Cimage id='img1' width='100' height='100' href='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkAQMAAABKLAcXAAAAAXNSR0IB2cksfwAAAANQTFRFAAAAp3o92gAAAAF0Uk5TAEDm2GYAAAAUSURBVHicY2AYBaNgFIyCUUBPAAAFeAABCP1FgwAAAABJRU5ErkJggg=='/%3E%3C/defs%3E%3Cstyle%3Etspan%7Bwhite-space:pre%7D.t1%7Bfont-size:24px;fill:%23fff;font-weight:400;font-family:&quot;DejaVuSans&quot;,&quot;DejaVu Sans&quot;%7D%3C/style%3E%3Cuse id='Background' x='0' y='0' href='%23img1' style='opacity:.3'/%3E%3Cpath id='모양 1' d='M50 100C22.3 100 0 77.7 0 50S22.3 0 50 0s50 22.3 50 50-22.3 50-50 50z' style='fill:%23d33'/%3E%3Ctext id='anchor' style='transform:matrix(1,0,0,1,11,56)'%3E%3Ctspan x='0' y='0' class='t1'%3Ea%3C/tspan%3E%3Ctspan y='0' class='t1'%3En%3C/tspan%3E%3Ctspan y='0' class='t1'%3Ec%3C/tspan%3E%3Ctspan y='0' class='t1'%3Eh%3C/tspan%3E%3Ctspan y='0' class='t1'%3Eo%3C/tspan%3E%3Ctspan y='0' class='t1'%3Er%0A%3C/tspan%3E%3C/text%3E%3C/svg%3E");}
	</style>
</head>
<body>
<div class="wrap">
	<section class="section">
		<div class="flex_item">
			<h1 class="tit">section 1</h1>
			<nav>
				<a href="#none" data-cursor="clickable">clickable</a>
				<a href="#none" data-cursor="anchor">anchor</a>
			</nav>
			<div>
				<button type="button" data-cursor="clickable">button 태그</button>
			</div>
			<input type="text" placeholder="input" id="myInp">
			<label for="myInp" data-cursor="clickable">label tag</label>
		</div>
	</section>
	<section class="section">
		<h1 class="tit">section 2</h1>
	</section>
	<section class="section">
		<h1 class="tit">section 3</h1>
	</section>
</div>
<script>
	const SmartCursor = {
		cursor: {},
		enter: function(){
			SmartCursor.cursor.parent.classList.add('enter');
		},
		leave: function(){
			SmartCursor.cursor.parent.classList.remove('enter');
		},
		move: function(mouse){
			SmartCursor.cursor.parent.style.transform = 'translate(' + mouse.clientX + 'px, ' + mouse.clientY + 'px)';
		},
		toggle: function(cursorType){
			SmartCursor.cursor[cursorType].classList.toggle('on');
		},
		init: function(){
			// 커서 요소 생성
			SmartCursor.cursor.parent = document.createElement('div');
			SmartCursor.cursor.parent.classList.add('smart_cursor');
			document.body.append(SmartCursor.cursor.parent);

			const cursors = document.querySelectorAll('[data-cursor]');

			if(cursors.length){
				const tempCursors = [];	// 페이지 내 존재하는 cursor 조회

				cursors.forEach(function(cursor, idx){
					tempCursors.push(cursor.dataset.cursor);

					cursor.addEventListener('mouseenter', function(){
						SmartCursor.toggle(cursor.dataset.cursor);
					});
					cursor.addEventListener('mouseleave', function(){
						SmartCursor.toggle(cursor.dataset.cursor);
					});
				});

				// 중복되는 배열 항목 제거
				const realCursors = tempCursors.filter(function(item, idx){
					return tempCursors.indexOf(item) === idx;
				});

				// 커서 요소 삽입
				realCursors.forEach(function(ele, idx){
					SmartCursor.cursor[ele] = document.createElement('div');
					SmartCursor.cursor[ele].dataset.smartCursor = ele;

					SmartCursor.cursor.parent.append(
						SmartCursor.cursor[ele]
					);
				});
			}

			document.documentElement.addEventListener('mouseenter', SmartCursor.enter);
			document.documentElement.addEventListener('mouseleave', SmartCursor.leave);
			document.documentElement.addEventListener('mousemove', SmartCursor.move);
		}
	};
	SmartCursor.init();
</script>
</body>
</html>