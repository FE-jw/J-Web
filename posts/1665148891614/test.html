<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, viewport-fit=cover">
<meta name="format-detection" content="telephone=no">
<title>YouTube Player API</title>
<style>
	*	{margin:0;padding:0;}
</style>
</head>
<body>
<div class="wrap">
	<div id="player"></div>
</div>
<script>
//YouTube API 불러오기
var tag = document.createElement('script');
tag.src = "https://www.youtube.com/iframe_api";
var firstScriptTag = document.getElementsByTagName('script')[0];
firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
	
window.addEventListener('load', function(){
	//플레이어 설정
	var player;
	function onYouTubeIframeAPIReady(){
		player = new YT.Player('player', {
			width: '640',	//영상의 크기(css로 대체하는 게 편함)
			height: '360',	//영상의 크기(css로 대체하는 게 편함)
			videoId: 'M7lc1UVf-VE',	//영상 ID값
			events: {
				'onReady': onPlayerReady,	//로딩된 후에 실행
				'onStateChange': onPlayerStateChange	//플레이어의 상태가 변경되면 실행
			}
		});
	}
	onYouTubeIframeAPIReady();

	//로딩된 후에 실행할 함수
	function onPlayerReady(event){
		event.target.playVideo();	//자동 재생을 피하고 싶다면 제거
	}

	//플레이어의 상태가 변경되면 실행되는 함수
	var done = false;
	function onPlayerStateChange(event){
		if(event.data == YT.PlayerState.PLAYING && !done){
			done = true;
		}
	}

	//플레이어 정지 함수
	function stopVideo(){
		player.stopVideo();
	}
});
</script>
</body>
</html>