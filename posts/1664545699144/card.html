<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, viewport-fit=cover">
<meta name="format-detection" content="telephone=no">
<title>앞면 동일한 카드 맞추기</title>
<style>
	*	{margin:0;padding:0;}
	.card-wrap	{min-width:320px;max-width:1000px;margin:0 auto;}
	.main-tit	{padding:20px;font-size:20px;text-align:center;}
	.card	{display:flex;justify-content:space-around;flex-wrap:wrap;}
	.card.checking	{position:relative;}
	.card.checking:after	{content:'';width:100%;height:100%;position:absolute;left:0;top:0;}
	.card li	{list-style:none;width:50%;height:220px;padding:5px;box-sizing:border-box;perspective:1000px;}
	.card .flip	{width:100%;height:100%;position:relative;border:1px solid #ccc;border-radius:4px;cursor:pointer;transition:transform 0.5s;transform-style:preserve-3d;}
	.card .open .flip	{transform:rotateY(180deg);}
	.card .front,
	.card .back	{width:100%;height:100%;position:absolute;-webkit-backface-visibility:hidden;backface-visibility:hidden;}
	.card .front	{display:flex;justify-content:center;align-items:center;font-size:60px;font-weight:bold;}
	.card .back	{font:0/0 a;background-repeat:no-repeat;background-position:50% 50%;background-size:40% auto;transform:rotateY(180deg);}
	.card [data-value='1'] .back	{background-image:url('1.svg');}
	.card [data-value='2'] .back	{background-image:url('2.svg');}
	.card [data-value='3'] .back	{background-image:url('3.svg');}
	.card [data-value='4'] .back	{background-image:url('4.svg');}
	.card [data-value='5'] .back	{background-image:url('5.svg');}

	@media all and (min-width: 568px) and (max-width: 1023px)	{
		.main-tit	{font-size:30px;}
		.card li	{width:25%;height:250px;}
		.card .back	{background-size:50% auto;}
	}
	
	@media all and (min-width:1024px){
		.main-tit	{font-size:40px;}
		.card li	{width:20%;height:300px;}
		.card .back	{background-size:60% auto;}
	}
</style>
</head>
<body>
<div class="card-wrap">
	<h1 class="main-tit">동일한 카드 맞추기</h1>
	<ul class="card">
		<li data-value="1">
			<div class="flip">
				<div class="front">?</div>
				<div class="back">back</div>
			</div>
		</li>
		<li data-value="2">
			<div class="flip">
				<div class="front">?</div>
				<div class="back">back</div>
			</div>
		</li>
		<li data-value="3">
			<div class="flip">
				<div class="front">?</div>
				<div class="back">back</div>
			</div>
		</li>
		<li data-value="4">
			<div class="flip">
				<div class="front">?</div>
				<div class="back">back</div>
			</div>
		</li>
		<li data-value="5">
			<div class="flip">
				<div class="front">?</div>
				<div class="back">back</div>
			</div>
		</li>
		<li data-value="1">
			<div class="flip">
				<div class="front">?</div>
				<div class="back">back</div>
			</div>
		</li>
		<li data-value="2">
			<div class="flip">
				<div class="front">?</div>
				<div class="back">back</div>
			</div>
		</li>
		<li data-value="3">
			<div class="flip">
				<div class="front">?</div>
				<div class="back">back</div>
			</div>
		</li>
		<li data-value="4">
			<div class="flip">
				<div class="front">?</div>
				<div class="back">back</div>
			</div>
		</li>
		<li data-value="5">
			<div class="flip">
				<div class="front">?</div>
				<div class="back">back</div>
			</div>
		</li>
	</ul>
</div>
<script>
/**
 * TODO
 * data-value 랜덤 셋팅
 * 처음에 3초 보여주기
 * 완료했을 때 완료 안내
 * 카운트다운
 * 뒤집을 때 효과음
 */

var openCard = [];

document.querySelectorAll('.card li').forEach(function(e){
	e.addEventListener('click', function(){
		if(!this.classList.contains('open')){
			openCard.push(this);
			this.classList.add('open');

			var cardWrap = document.querySelector('.card');
	
			if(openCard.length === 2){
				cardWrap.classList.add('checking');
	
				if(openCard[0].dataset.value != openCard[1].dataset.value){
					setTimeout(function(){
						openCard.forEach(function(e){
							e.classList.remove('open');
						});
					}, 500);
				}
	
				setTimeout(function(){
					openCard = [];
					cardWrap.classList.remove('checking');
				}, 500);
			}
		}
	});
});
</script>
</body>
</html>